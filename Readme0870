----------------------------------------
//0948 [2012/04/25] by refis

・0947がコンパイルエラーをなるミスを修正 (src/map/clif.c)

----------------------------------------
//0947 [2012/04/25] by refis

・搭乗システム、モンスター変身の無駄なパケットを抑制させる (src/map/clif.*)

・武器修理、装備閲覧のリストが正常に取得できない現象を修正 (src/map/clif.c)
	Thanks unsyu さん

・傭兵スキル「バーサーク」のミスを修正 (db/skill_cast_db.txt)

----------------------------------------
//0946 [2012/04/24] by Blaze

・ソーサラーの精霊スキル実装準備
	-> mmo.hに精霊の情報定義を追加（common/mmo.h）
	-> block_typeにBL_ELEMを新規追加（map.h）
	-> 精霊の基本情報構造体を新規追加（map.h）
	-> 精霊の表示系パケット（0x78,0x7b,0x7c,0x28,0x95）を新規追加（clif.*）
	-> 精霊のステータス更新パケット（0x81d,0x81e）を新規追加（clif.*）
	-> 精霊のスキル定義追加（skill.h, db/skill_db.txt, db/skill_db2.txt db/skill_require_db.txt）
	-> 精霊の基本情報DBとスキルDBを新規追加（db/elem_db.txt, db/elem_skill_tree.txt）


----------------------------------------
//0945 [2012/04/24] by Blaze

・傭兵データ構造の見直し（common/mmo.h, map.h, merc.*, clif.c, status.c, skill.c）
	-> BaseLvや各種ステータス、スキル情報などはsaveデータに保存しない様に変更。

・傭兵をSQLモードに対応 (char/sql/mercdb_sql.c, sql-files/main.sql, sql-files/Auriga945_changetable.sql)
	-> 既存のプレイヤーが持つ傭兵雇用情報は「mercenary」から「mercenary_employ」にテーブル名を変更
	-> 傭兵自身のデータを「mercenary」テーブルに保存するように。

・モンスター傭兵実装（common/mmo.h, merc.*, db/merc_db.txt, merc_skill_tree.txt）
	-> 傭兵IDを定められたID（6017〜6046）しか登録できなかったのを任意のIDで登録できるように変更。

・傭兵DBの構造を変更（merc.*, db/merc_db.txt, db/addon/merc_db_add.txt, doc/db_ref.txt）
	-> 傭兵のクラスIDを任意に定義できる様にした為、ViewClassを廃止
	-> 傭兵の種類は内部で処理させるようにした為、ClassTypeを廃止

・傭兵のキルカウントボーナス実装（merc.c, status.*, db/scdata_db.txt）

・傭兵専用スキル「キリエエレイソン」「ブレッシング」「速度増加」を追加（skill.*, db/skill_db.txt, db/skill_db2.txt, db/skill_cast_db.txt, db/skill_require_db.txt）

・傭兵の自然回復が短かったのを修正（merc.h）
	-> HPの自然回復：2000ms → 8000ms、SPの自然回復：4000ms → 6000ms

・傭兵に処理させるスクリプトを追加（script.c, doc/script_ref.txt）
	-> mercheal命令：連れている傭兵のHP/SPを回復させます。
	-> mercsc_start命令：連れている傭兵を状態変化させます。

・傭兵関係のアイテム実装（db/item_db.txt）

----------------------------------------
//0944 [2012/04/21] by refis

・ギルド追放メンバリストのミスを修正 (src/map/clif.c)
	Thanks ryokucha さん

・clif_bodyrelocation()のnullチェック忘れを修正 (src/map/clif.c)

・NPCスキル「不死属性付与」は属性レベル2以上にならないよう修正 (src/map/skill.c)
	Thanks Akayumi さん

・3次職のBaseLv90〜98迄のHP・SPデータを追加 (db/job_hp_db.txt db/job_sp_db.txt)

----------------------------------------
//0943 [2012/04/20] by refis

・モンスター変身でサーバーがクラッシュしてしまうミスを修正 (src/map/clif.c)

・モンクスキル「残影」のパケットをスイッチさせるように修正 (src/map/clif.* src/map/skill.c)

----------------------------------------
//0942 [2012/04/20] by refis

・搭乗システム、モンスター変身中キャラが画面に入ったとき、正常に表示されなかったのを修正 (src/map/clif.c src/map/status.c)
	-> 相互の干渉関係が不明なため、搭乗システムが優先される暫定処置です
		Thanks うに〜く さん、ryokucha さん

・アサシンスキル「クローキング」で壁沿い移動時の無効な判定を修正 (src/map/status.c)
	Thanks Akayumi さん

・ハイプリーストスキル「バジリカ」の解除時はユニット判定しないよう修正 (src/map/skill.c)
	Thanks Akayumi さん

・ギルド追放関連のパケットを更新 (src/map/clif.c)
	Thanks Akayumi さん

・服色変更パケットは服色変更時のみ発行されるため、clif_send_clothcolor()は使用しないよう修正
 (src/map/atcommand.c src/map/clif.* src/map/pc.c src/map/script.c src/map/status.c)

----------------------------------------
//0941 [2012/04/19] by refis

・ジェネティックスキル「カート改造」、「剣修練」、「スリングアイテム」の最大Lvを修正 (db/skill_db.txt)
	Thanks rain さん、rapis さん

・アイテムボーナス「bMatkRate」が二重計算されていたのを修正 (src/map/battle.c)
	Thanks unsyu さん

----------------------------------------
//0940 [2012/04/17] by refis

・0939の内容が不足している部分を修正 (db/item_db.txt doc/script_ref.txt)
	-> item_db.txtのDEF項で「:」を使ってMDEFも指定できるよう拡張
		Thanks rapis さん

・MDEFのない装備品を装着時の不具合を修正 (src/map/itemdb.c)
	Thanks unsyu さん

----------------------------------------
//0939 [2012/04/16] by refis

・item_dbにMDEFを指定できるように拡張 (db/item_db.txt src/map/itemdb.* src/map/status.c)

・「シールドスペル」でMDEFの代わりに暫定でDEFを利用していた箇所を修正 (src/map/battle.c)

----------------------------------------
//0938 [2012/04/16] by refis

・「checkitemblank」関数を追加 (doc/script_ref.txt src/map/script.c)

・インベントリの不要なループを抑制させるよう処理を修正 (src/map/chrif.c src/map/clif.c src/map/map.h src/map/pc.c src/map/skill.c)

----------------------------------------
//0937 [2012/04/16] by Blaze

・スクリプト命令「progressbar」を実装（script.c, clif.*, pc.c, unit.c, map.h, db/packet_db.txt, doc/script_ref.txt）
　※移動による中断状態のキャンセルは未実装です

・アッシュ・バキュームNPC実装（npc_quest_ashvacuum.txt）
	-> 異世界クエスト実装
	-> 駐屯地の人々クエスト実装
	-> 会議のおともクエスト実装
	-> 生態研究クエスト実装
	-> 飼育場のお手伝いクエスト実装
	-> 小さな妖精クエスト実装
	-> 木の巨人クエスト実装
	-> 猫の手サービスクエスト実装
		Thanks to Xia
　※魔王モロク追跡クエストと三ヶ国への報告書クエストは未実装

・アッシュ・バキューム関連マップのwarp追加（npc_warp_dun.txt, npc_warp_fild.txt, npc_warp_town.txt）

・アッシュ・バキューム関連マップのmob追加（npc_monster_manfild.txt, npc_monster_splfild.txt）

・アッシュ・バキューム関連マップのmapflag追加（mapflag.txt）

・map_auriga.conf更新（map_auriga.conf）

・0936の「callshop」の説明を微修正（doc/script_ref.txt）

----------------------------------------
//0936 [2012/04/15] by refis

・「callshop」関数を追加 (doc/script_ref.txt src/map/script.c)

・デワタの一部NPCにチャットバルーンを追加 (script/npc/town/npc_town_dewata.txt)

----------------------------------------
//0935 [2012/04/15] by Blaze

・「@go」コマンドの行き先を外部ファイルで設定できるように変更（atcommand.*, map.c）

・「@go」コマンドの行き先を設定するDBを追加（db/atcommand_go_db.txt, doc/db_ref.txt）

・戦闘設定「atcommand_go_significant_values」を廃止 (battle.*, conf/battle_auriga.conf)

----------------------------------------
//0934 [2012/04/14] by refis

・討伐データベースのソート処理を修正 (src/map/quest.c)
	Thanks 716 さん

・「ルーン製造」、「新毒製造」の材料リストを修正 (db/produce_db.txt)
	Thanks shisuka さん

----------------------------------------
//0933 [2012/04/07] by refis

・レンジャースキル「ウォーグダッシュ」使用時に移動不可セルを判定するよう修正 (src/map/skill.c)
	Thanks Akayumi さん

・ハイプリーストスキル「バジリカ」のユニット処理を修正 (db/skill_unit_db.txt src/map/skill.c)
	Thanks Akayumi さん、rapis さん

・クエストスキル「ベナムナイフ」習得NPCの台詞を修正 (script/npc/quest/npc_quest_skillget2.txt)

----------------------------------------
//0932 [2012/04/05] by refis

・MODEのマジックナンバーをenumで回避する
 (src/map/atcommand.c src/map/battle.c src/map/mob.c src/map/npc.c src/map/pc.c src/map/pet.c src/map/script.c src/map/skill.c src/map/status.* src/map/unit.c)

・接触反応AI、低レベルターゲッティングAIを実装 (doc/db_ref.txt src/map/mob.c)

・mob_db.txtを更新 (db/mob_db.txt)

----------------------------------------
//0931 [2012/04/05] by refis

・討伐データベースの初期化忘れを修正 (src/map/quest.c)

・MAX_PACKET_DBの拡張 (src/map/clif.c)

・grfの初期位置を本家にあわせて変更 (conf/grf-files.txt)

・@reproduce、@reproduce2を追加 (conf/atcommand_auriga.conf conf/help.txt src/map/atcommand.*)

・リプロデュースをスクリプトから操作できるよう定数を追加 (db/const.txt src/map/map.h src/map/pc.c)

----------------------------------------
//0930 [2012/04/05] by refis

・レンジャースキル「エイムドボルト」の矢消費量を修正 (db/skill_require_db2.txt src/map/battle.c src/map/skill.c)
	Thanks unsyu さん

・アイテムボーナス「bonus bMdef2」でMdefが上昇する不具合を修正 (src/map/pc.c)

・クエストシステムの討伐カウントがパーティーメンバーにも反映されるよう修正 (src/map/mob.c src/map/quest.*)

・敵が討伐対象かどうか事前に調べるよう変更 (src/map/mob.c src/map/quest.*)

----------------------------------------
//0929 [2012/04/01] by refis

・スーパーノービスの台詞コマンドが使えなくなっていたのを修正 (src/map/clif.c)
	Thanks unsyu さん

・シャドウチェイサースキル「オートシャドウスペル」の持続時間設定の誤りを修正 (src/map/skill.c)
	Thanks rain さん、unsyu さん

・packet_db.txtの更新 (db/packet_db.txt)

・client_packet.txtの更新 (doc/client_packet.txt)

----------------------------------------
//0928 [2012/03/28] by refis

・アイテムボーナス「bonus2 bFixCastrate」の判定式を修正 (src/map/pc.c)
	Thanks Akayumi さん

・ウォーロックスキル「ソウルエクスパンション」のダメージ計算式を修正 (src/map/battle.c)
	Thanks かんなぎ さん

・レンジャースキル「エイムドボルト」の拘束時のダメージ計算式を修正 (src/map/battle.c)
	Thanks velvet0001 さん

・命令文「npcskillsupport」で発動元と対象を指定できるように変更 (doc/script_ref.txt src/map/script.c)

----------------------------------------
//0927 [2012/03/14] by refis

・0926のミスを修正 (db/scdata.txt src/map/pc.c)

----------------------------------------
//0926 [2012/03/14] by refis

・騎乗システムを一部修正 (db/scdata.txt src/map/clif.c src/map/skill.c src/map/status.c)

・身代わりの護符を実装 (db/item.txt src/map/pc.c)

・Job教範の効果を実装 (db/const.txt db/scdata.txt src/map/pc.c src/map/status.*)

・戦闘教範の仕様を変更 (src/map/pc.c)

・関連アイテムのデータを修正 (db/item.txt)

・amotionの設定がずれているミスを修正 (db/job_db1.txt)
	Thanks kuroneko_daten さん、かんなぎ さん

----------------------------------------
//0925 [2012/03/04] by refis

・スキル「買取露店開設」が習得できなかった点を修正 (script/npc/quest/npc_quest_skillget3.txt)
	Thanks Akayumi さん

・ジェネティックスキル「カートブースト」の追加ダメージ計算の位置を修正 (script/npc/quest/npc_quest_skillget3.txt)

・スキル「点穴 -反-」、「ストライキング」の武器ATK上昇計算の位置を修正 (src/map/battle.c src/map/status.c)
 ※本来はサイズ補正前に計算

・スキル「フォースオブバンガード」、「点穴 -活-」、「エコーの歌」、「恋人たちの為のシンフォニー」のDEF/MDEF上昇計算の位置を修正
 (src/map/battle.c src/map/status.c)

・スキル「シールドプレス」、「大纏崩捶」、「號砲」、「羅刹破凰撃」を最終無属性に修正 (src/map/battle.c)

----------------------------------------
//0924 [2012/02/26] by refis

・mob_group_db拡張に伴うボーナス最大値の修正 (src/map/map.h)

・傭兵召喚時のエラーを修正 (src/map/merc.c)

・status_get_aspdは存在していないので消去 (src/map/status.h)

----------------------------------------
//0923 [2012/02/22] by refis

・変動詠唱と固定詠唱の計算式を修正 (src/map/skill.c)

・アイテムボーナス「bonus2 bFixCastrate」のリファクタリング (src/map/pc.c src/map/skill.c src/map/status.c)

・スキル「フロストミスティ」、「ジャックフロスト」、「コメット」に斜線チェックを追加 (src/map/skill.c)

・スキル「フロストミスティ」の状態異常付与はダメージと斜線チェックなしで判定させる (src/map/skill.c)

・アイテムデータの更新 (db/item_db.txt)
	Thanks lowl さん、rapis さん

・モンスターデータの更新 (db/mob_db.txt db/mob_group_db.txt db/mob_skill_db.txt)
　※一部R化後のデータは暫定です

----------------------------------------
//0922 [2012/02/20] by refis

・CLASS定義の補完と修正 (db/const.txt src/common/mmo.h)

・スキル「スーパーノービスの魂」の判定が誤っていた個所を修正 (src/map/skill.c)
	Thanks かんなぎ さん

----------------------------------------
//0921 [2012/02/13] by refis

・買取担当組合員をプロンテラ道具屋に追加とミスの修正 (script/npc/quest/npc_quest_skillget3.txt)

・スキル「イグニッションブレイク」、「キャノンスピア」のBaseLv補正を修正 (src/map/battle.c)
	Thanks velvet0001 さん

・スキル「アックスブーメラン」のダメージ計算式を修正 (src/map/battle.c)
	Thanks かんなぎ さん、ARIA さん

・MAP移動時にスキルメニューフラグを削除するよう仮修正 (src/map/unit.c)
	Thanks unsyu さん、かんなぎ さん

----------------------------------------
//0920 [2012/02/09] by refis

・スキル「オーディンの力」の効果時間が消えているミスを修正 (db/skill_cast_db.txt)

・買取担当組合員、闇商人の入力値判定のミスを修正 (script/npc/quest/npc_quest_skillget3.txt)

----------------------------------------
//0919 [2012/02/09] by refis

・0918のミスを修正 (script/npc/quest/npc_quest_skillget3.txt)

----------------------------------------
//0918 [2012/02/09] by refis

・買取露店開設関連を本家仕様に修正
 (db/item_db.txt db/item_db2.txt db/skill_db.txt db/skill_require_db.txt db/skill_tree.txt src/map/buyingstore.c src/map/clif.c src/map/skill.c)

・買取露店関連NPCを追加 (conf/map_auriga.conf script/npc/quest/npc_quest_skillget3.txt)

・ついでにMAP定義を追加 (conf/map_auriga.conf)

・スキル「ホーリーナイト」、「エルディカスティスへの帰還」、「モーラへの帰還」実装
 (db/skill_db.txt db/skill_db2.txt db/skill_cast_db.txt db/skill_require_db.txt src/map/skill.*)

・ALL_DREAM_SUMMERNIGHTの定義が異なっているのを修正 (src/map/skill.h)

----------------------------------------
//0917 [2012/02/06] by refis

・買取露店でアイテム販売時にZENYチェックを追加 (src/map/buyingstore.c)
	Thanks Akayumi さん

・メールシステムの不具合を修正 (src/map/mail.c)
	Thanks dragontail789 さん

・0916を若干修正 (src/map/map.h)

----------------------------------------
//0916 [2012/02/06] by refis

・スキル「オーディンの力」実装
 (db/scdata_db.txt db/skill_db.txt db/skill_db2.txt db/skill_cast_db.txt db/skill_require_db.txt src/common/mmo.h src/map/skill.* src/map/status.*)

・アイテムボーナス「bonus2 bAddSkillCastTime」「bonus2 bFixCastrate」「bonus2 bAddSkillSubHealRate」「bonus2 bAddSkillCoolDown」追加
 (db/const.txt doc/item_bonus.txt src/map/map.h src/map/skill.c src/map/pc.c src/map/status.c)
　bonus2 bAddSkillCastTime,n,x;
　指定スキルnの詠唱時間をxミリ秒増加させます。
　ex)　bonus2 bAddSkillCastTime,19,1000;	// スキルファイアーボルトの詠唱時間を1000ms(1秒)増加

　bonus2 bFixCastrate,n,x;
　固定詠唱時間をn%増加させます(xが0の場合、値の低い物が適用。xが0以外の場合、nは+される)
　ex)　bonus2 bFixCastrate,-20,0;	// これ以上値の低い効果を受けていない場合固定詠唱時間を20%減少
　ex)　bonus2 bFixCastrate,-5,1;	// 固定詠唱時間を5%減少(上記ボーナスと共に設定すると25%減少)

　bonus2 bAddSkillSubHealRate,n,x;
　指定スキルnを受けたときの回復量をx%増加させます。
　ex)　bonus2 bAddSkillSubHealRate,28,10;	// スキルヒールを受けたときの回復量を10%増加

　bonus2 bAddSkillCoolDown,n,x;
　指定スキルnのクールタイムをxミリ秒増加させます(3次職スキル以外は無視されます)
　ex)　bonus2 bAddSkillCoolDown,2051,-3000;	// スキルハイネスヒールのクールタイムを3000ms(3秒)減少

・mob_group_dbを更新 (db/mob_group_db.txt)

・NPC商店はNOTOCフラグとNOTDCフラグを確認してDUPE警告を表示するよう変更してみる (src/map/npc.c)

・ドキュメントファイルの細かい修正 (doc/db_ref.txt doc/item_bonus.txt)
	Thanks Akayumi さん、hyper_001 さん

----------------------------------------
//0915 [2012/02/05] by refis

・存在しないアイテムボーナスの説明の削除とその他細かい修正 (doc/item_bonus.txt)
	Thanks ARIA さん

・エンペリウムに状態異常を適用しないよう修正 (src/map/status.c)
	Thanks raisaba10 さん、pneuma さん

・影狼、朧スキル「十六夜」の詠唱時間計算を修正 (src/map/skill.c)

----------------------------------------
//0914 [2012/02/05] by refis

・ロイヤルガードスキル「トランプル」がハンターのトラップに効果が出ない不具合を修正 (db/skill_db.txt)
	Thanks Akayumi さん

・スキル倍率加算効果はスキル倍率計算後に使用しないよう修正 (src/map/battle.c)
	Thanks Akayumi さん

・アークビショップスキル「ハイネスヒール」はアコライトスキル「ヒール」Lv10を基準に算出させる (src/map/skill.c)
	Thanks めろでぃ さん

・スナイパースキル「ウインドウォーク」のFlee増加量を修正 (src/map/status.c)
	Thanks めろでぃ さん

----------------------------------------
//0913 [2012/02/03] by refis

・影狼、朧スキル「明鏡止水」のSP回復不具合を修正 (src/map/status.c)
	Thanks かんなぎ さん

・拡張スーパーノービス、影狼、朧の秒間最大攻撃回数が固定になる不具合を修正 (src/map/status.c)
	Thanks barusu2 さん、rapis さん

・二刀流時の右手・左手修練のダメージ計算式を修正 (src/map/battle.c)
	Thanks dragontail789 さん

・add_damage_class_count、add_damage_class_count_、add_magic_damage_class_countはintである必要がないのでshortに変更
 (src/map/map.h)

----------------------------------------
//0912 [2012/01/22] by popori

・スキル「明鏡止水」「幻術 - 驚愕」「幻術 - 呪殺」「幻術 - 幻惑」の実装
 (db/scdata_db.txt db/skill_db.txt db/skill_cast_db.txt src/map/battle.c src/map/clif.c src/map/skill.c src/map/status.* src/map/unit.c)

・スキル「フォースオブバンガード」の状態異常タイマーがおかしいのを修正 (src/map/status.c)
　rapisさんに感謝

・気付いた範囲でpacket_db.txtのcleanup (db/packet_db.txt)

----------------------------------------
//0911 [2012/01/22] by popori

・コスチュームシステムを本家仕様に修正 (src/map/clif.c src/map/pc.c)

・アイテムフラグを少し修正 (db/item_db2.txt)

・アルデバランのカプラ職員からスーパーノービスと拡張スーパーノービスがカートをレンタル出来なくなっていたのを修正
 (script/npc/job/npc_job_23supernovice.txt)
　716さんに感謝

----------------------------------------
//0910 [2012/01/22] by popori

・0886のバグ修正とマジックナンバー削減 (src/map/buyingstore.c src/map/clif.c src/map/pc.* src/map/vending.c)
　うに〜くさん、Akayumiさんに感謝

----------------------------------------
//0909 [2012/01/22] by popori

・メールの最大保存数を超えるメールを受信しようとした場合は、一番古いメールを削除して受信するように変更 (src/char/int_mail.c)

・zeny、添付アイテムが存在するメールも削除可能なよう変更 (src/char/sql/maildb_sql.c src/char/txt/maildb_txt.c)

・メールの添付データの取得に失敗した時でも添付情報を削除していたので、添付データのロストが起こりうる可能性があったのを修正
 (src/char/inter.c src/char/int_main.c src/map/intif.* src/map/mail.* doc/inter_server_packet.txt)

・mail_dataテーブルを少し変更 (sql-files/main.sql sql-files/Auriga909_changetable.sql src/char/sql/maildb_sql.c)

----------------------------------------
//0908 [2012/01/12] by popori

・フォントアイテムの実装
 (db/item_db.txt db/item_db2.txt doc/script_ref.txt sql-files/Auriga908_changetable.sql sql-files/main.sql
　src/char/sql/chardb_sql.c src/char/txt/chardb_txt.c src/common/mmo.h src/map/clif.* src/map/pc.c src/map/script.c)

・clif.cの修正 (src/map/clif.c)
　かんなぎさんに感謝

----------------------------------------
//0907 [2012/01/12] by popori

・item_db2.txtのフラグ値修正 (db/item_db.txt)

・SC_ALL_RIDING中、攻撃とスキル使用は出来ないように変更 (src/map/clif.c)

・スキル「KO_BAKURETSU」の計算式を変更 (src/map/battle.c)

----------------------------------------
//0906 [2012/01/12] by popori

・矢の判定が誤っていた個所を修正 (src/map/battle.c)
　kuroneko_datenさんに感謝

・搭乗システムの実装
 (db/const.txt db/item_db.txt db/item_db2.txt db/scdata_db.txt doc/db_ref.txt src/map/itemdb.* src/map/pc.c src/map/status.*)

・item_db2.txtにNonconsumeフラグの追加
　詳細はdb_ref.txt参照のこと

----------------------------------------
//0905 [2012/01/11] by popori

・コスチュームシステムでグラフィクが反映されない場合のがあるのを修正 (src/map/clif.c src/map/pc.c)

----------------------------------------
//0904 [2012/01/11] by popori

・コスチューム装備のカード読み込みの修正 (src/map/status.c)

・battle_auriga.confのclif_fix_levelに拡張スーパーノービス、影狼、朧を対応 (src/map/clif.c)

・コスチューム装備の装備中viewidのセーブデータは保存しないよう変更する
 (src/char/txt/chardb_txt.c src/char/sql/chardb_sql/.c common/mmo.h src/map/pc.c sql-files/Auriga904_changetable.sql sql-files/main.sql)

・UnknownPacketダンプのログ抑制のためにpacket_db.txtの更新 (db/packet_db.txt)

・ついでにclient_packet.txtの更新 (doc/client_packet.txt)

----------------------------------------
//0903 [2012/01/10] by popori

・TXTのキャラデータ読み込み修正 (src/char/chardb_txt.c)
　lamunesさんに感謝

・SC_AKAITSUKIの判定式を修正 (src/map/skill.c)

・client_packet,txtの更新 (doc/client_packet.txt)

----------------------------------------
//0902 [2012/01/09] by popori

・コスチュームシステムの実装
 (db/item_db.txt sql-files/Auriga902_changetable.sql sql-files/main.sql src/char/sql/chardb_sql.c src/char/txt/chardb_txt.c
　src/common/mmo.h src/map/battle.c src/map/clif.c src/map/itemdb.* src/map/map.h src/map/pc.* src/map/script.c src/map/status.c
　doc/script_ref.txt doc/db_ref.txt)

・分かりづらいequip_indexのマジックナンバーをenumを使って回避する
 (src/map/battle.c src/map/clif.c src/map/itemdb.* src/map/map.h src/map/pc.* src/map/script.c src/map/status.c)

・battle_auriga.confの設定項目「disable_transform_when_gvg」が正常に動作しないのを修正 (src/map/pc.c)
　disable_transform_when_gvgを無効にしたい場合、item_db2.txtのzoneのフラグも修正すること

・battle_auriga.confに設定項目「disable_costume_when_gvg」を追加 (conf/battle_auriga.conf src/map/battle.* src/map/pc.c)
　GvGでコスチュームアイテムを無効にするか
　デフォルト有効
　disable_costume_when_gvgを無効にしたい場合、item_db2.txtのzoneのフラグも修正すること

----------------------------------------
//0901 [2012/01/08] by popori

・2012-01-04bRagexeの解析結果と、更新を行っていなかった解析済みのパケットをclient_packetへ追記 (doc/client_packet.txt)

・スキル「KG_KYOMU」に魔法反射無効も付けてみる (src/map/battle.c)

・battle_auriga.confに以下の設定項目を追加 (conf/battle_auriga.conf src/map/atcommand.c src/map/battle.* src/map/pc.c src/map/status.c)
　// 拡張スーパーノービスのステータス限界
　esnv_status_max: 120

　// 養子拡張スーパーノービスのステータス限界
　esnv_baby_status_max: 108

　// 拡張スーパーノービスの秒間最大攻撃回数を設定。
　// 単位はms(デフォルトは140で秒間7.1回の攻撃回数)
　esnv_max_aspd: 140

　// 影狼、朧のステータス限界
　ko_status_max: 120

　// 影狼、朧の秒間最大攻撃回数を設定。
　// 単位はms(デフォルトは140で秒間7.1回の攻撃回数)
　ko_max_aspd: 140

----------------------------------------
//0900 [2012/01/08] by popori

・スキル「KG_KYOMU」の反射無効の条件式を間違えていたので修正 (src/map/battle.c)

・vc_mae.batのMySQLのパスを5.5基準に書き換え (vc_make.bat)

----------------------------------------
//0899 [2012/01/08] by popori

・影狼、朧の実装
 (src/common/mmo.h src/char/char.c src/map/battle.c src/map/pc.* src/map/script.c src/map/skill.* src/map/status.*
　src/map/unit.c db/const.txt db/job_db*.txt script/sample/npc_custom_jobchange.txt db/skill_db.txt db/skill_db2.txt
　db/skill_cast_db.txt db/skill_require_db.txt db/skill_require_db2.txt db/skill_tree.txt db/scdata_db.txt db/item_arrowtype.txt
　db/item_db.txt db/skill_unit_db.txt)

　※JobボーナスとHP,SPは現行Aurigaの忍者と同一で暫定
　　基本ASPDはリニューアル後の忍者と同一で暫定

・packet_db.txtの修正 (db/packet_db.txt)
　うに〜くさんに感謝

・mob_avail.txtの読み込み修正 (db/mob_avail.txt)
　うに〜くさんに感謝

----------------------------------------
//0898 [2012/01/04] by popori

・char.cのPACKETVERの不整合を修正 (src/char/char.c)
　soldoutさんに感謝

・SQLモード時、キャラデータロードに不正が生じるのを修正 (src/char/sql/chardb_sql.c)
　soldoutさんに感謝

・packet_db.txtの更新 (db/packet_db.txt)

----------------------------------------
//0897 [2011/12/31] by popori

・0896変更点の「dropableフラグが真の時はNPCで売却を不可とするよう変更」の条件式が間違えていたので修正 (src/map/npc.c)
　soldoutさんに感謝

・モンスター変身アイテムのフラグ追記 (db/item_db2.txt)

----------------------------------------
//0896 [2011/12/29] by popori

・キャラ作成パラメータバインド時のタイプを修正 (src/char/sql/chardb_sql.c)
　soldoutさん、yooske61さんに感謝

・2011-12-28aRagexeREまでのパケット長追記 (db/packet_db.txt)

・dropableフラグが真の時はNPCで売却を不可とするよう変更 (src/map/npc.c)

・モンスター変身アイテムと2Dレイヤー装備に関するフラグを追加 (db/item_db2.txt)

・httpdをデフォルトで無効にする (Makefile bcc32_make.bat vc_make.bat src/login/login_httpd.c)

・GCC4以上の時は-fno-strict-aliasingを指定するように変更 (Makefile)

----------------------------------------
//0895 [2011/12/29] by popori

・モンスター変身アイテムの実装 (src/map/status.* src/map/battle.c db/scdata_db.txt db/item_db.txt db/const.txt)
　※ゴーレムは被弾時のインデュア発動確率が分からなかったので効果未実装

・battle_auriga.cofに「disable_transform_when_gvg」を追加 (conf/battle_auriga.conf src/map/battle.* src/map/pc.c)
　デフォルトはyes

・2Dレイヤー装備アイテムを追加 (db/item_db.txt)

----------------------------------------
//0894 [2011/12/29] by popori

・0x8b9の送信タイミングを0x6b前にするよう変更と追加 (src/char/char.c)

・PACKETVER20100615の追加 (vc_make.bat bcc32_make.bat Makefile src/login/login.c)

・UnknownPacketが出力されないようにとりあえず定義だけ追加 (db/packet_db.txt src/map/clif.c)

----------------------------------------
//0893 [2011/12/29] by popori

・gcc環境下でのwarning修正 (src/map/skill.c)

・SC_DEEP_SLEEPをpretimerで発動させるように変更 (src/map/skill.c)

・dspファイルの更新 (src/*/*.dsp)

・packet_db.txtの修正と追加 (db/packet_db.txt)

----------------------------------------
//0892 [2011/12/29] by popori

・拡張ノービスの実装
 (src/common/mmo.h src/char/char.c src/map/clif.c src/map/pc.* src/map/script.c src/map/skill.c src/map/status.c
　db/const.txt db/job_db1.txt db/job_db2.txt db/job2_2.txt db/job_hp_db.txt db/job_sp_db.txt db/skill_tree.txt
　script/npc/job/npc_job_23supernovice.txt script/warp/npc_warp_dun.txt script/sample/npc_custom_jobchange.txt)

----------------------------------------
//0891 [2011/12/29] by popori

・PACKETVER20100803からキャッシュショップの複数個購入に対応 (db/packet_db.txt src/map/clif.c src/map/npc.*)

・MAX_PACKET_DBを0x950まで拡張 (src/map/clif.c)

----------------------------------------
//0890 [2011/12/29] by popori

・PACKETVER20110111より0x2d7の上位パケット0x859に対応 (src/map/clif.c)

・LOC_***の定義更新 (src/map/itemdb.h)

・packet_db.txtの更新 (db/packet_db.txt)

・PACKETVER20110719の追加 (vc_make.bat bcc32_make.bat Makefile)

・0x1c9の上位パケット0x8c7の実装 (src/map/clif.c)

・0x2e1の上位パケット0x8c8の実装 (src/map/battle.c src/map/clif.* src/map/skill.c src/map/status.c src/map/unit.*)

----------------------------------------
//0889 [2011/12/29] by popori

・PACKETVER20110309の追加 (char.c)

・PACKETVER20110928の追加 (char.c)

・PACKETVER20111025の追加 (char.c vc_make.bat bcc32_make.bat Makefile src/*/*.dsp)

----------------------------------------
//0888 [2011/12/29] by popori

・ストレージエンジンをMyISAMからInnoDBに変更する (sql-files/main.sql sql-files/Auriga888_changetable.sql)
　そもそもMyISAMはAurigaに不向きかと

・肩装備、パーティー勧誘拒否フラグ、装備公開をセーブデータとして保存するように
 (sql-files/main.sql sql-files/Auriga888_changetable.sql src/common/mmo.h src/char/txt/chardb_txt.c src/char/sql/chardb_sql.c
　src/map/clif.c src/map/map.h src/map/party.c)

・0x9eの上位パケット0x84b用にPACKETVER20101020を追加 (vc_make.bat bcc32_make.bat Makefile src/map/clif.c)

・packet_dbに無駄な重複があったのでcleanup (db/packet_db.txt)

・2010-11-24aRagexeRE以降のpacket長追加 (db/packet_db.txt)

・PACKETVER20110111を追加 (vc_make.bat bcc32_make.bat Makefile src/*/*.dsp)

・PACKETVER20110111から肩装備の表示に対応させるため上位パケットを実装 (src/char/char.c src/map/map.h src/map/clif.c src/map/pc.c)

・上記の変更に伴いmob_avail.txtに肩装備を表示出来るように拡張 (db/mob_avail.txt src/map/mob.* src/map/clif.c)

----------------------------------------
//0887 [2011/12/29] by popori

・PACKETVERのリナンバリング based on eathena
 (vc_make.bat Makefile bcc32_make.bat src/char/char.c src/char/char.dsp src/char/char_sql.dsp src/common/mmo.h
　src/converter/converter.dsp src/login/login.dsp src/login/login_sql.dsp src/map/atcommand.c src/map/chrif.c
　src/map/clif.c src/map/map.dsp src/map/map_sql.dsp src/map/party.c src/map/pc.c src/map/script.c src/map/skill.c)
　分かりづらいPACKETVERの連番方式、PACKETERの途中挿入が非常に面倒なのでeAベースでYYYYMMDD形式に変更します。

・ビルドオプション「NEW_006b」を削除してPACKETVER20061023として定義し、「NEW_006b_RE」を「NEW_006b」として定義する
 (vc_make.bat Makefile bcc32_make.bat src/char/char.c src/char/char.dsp src/char/char_sql.dsp src/map/map.dsp src/map/map_sql.dsp
　src/converter/converter.dsp src/login/login.dsp src/login/login_sql.dsp)

・ついでにリファクタリング (src/char/char.c src/map/clif.c)

----------------------------------------
//0886 [2011/12/29] by popori

・露店と購買露店中の判定をリファクタリング
 (src/map/buyingstore.c src/map/chat.c src/map/clif.c src/map/map.h
　src/map/pc.c src/map/trade.c src/map/unit.c src/map/vending.c)

・VC2008以上でのマルチプロセスビルドのサポート (vc_make.bat)
　※マルチプロセッサ、マルチコアでVC2008環境下であればビルド速度が向上します。

----------------------------------------
//0885 [2011/10/29] by Blaze

・全ての3次職スキルの詠唱時間、射程距離、消費SPなどを本鯖仕様に更新 (db/skill_db.txt, db/skill_cast_db.txt, db/skill_require_db.txt)

・状態異常「冷凍」実装 (status.*, battle.c, pc.c, clif.c, unit.c, db/scdata_db.txt)

・状態異常「ファイティングスピリット」実装（status.c, skill.c）

・状態異常「リプロデュース」中、持続的にSPを消費するように修正（status.c, pc.c）

・ソーサラースキル「ファイアーウォーク」「エレクトリックウォーク」の持続時間を修正（skill.c, db/skill_cast_db.txt）

・ソーサラースキル「アースグレイヴ」に出血付与効果を実装（skill.c）

・ソーサラースキル「ポイズンバスター」の効果範囲を修正（skill.c）

・ウォーロックスキル「アースストレイン」のエフェクト開始位置を修正（skill.c）
	Thanks to dream さん、refis さん

・ウォーロックスキル「アースストレイン」の攻撃判定間隔を調整（db/skill_unit_db.txt）
	Thanks to Akayumi さん

・アークビショップスキル「ラウダアグヌス」「ラウダラムス」を確率で治癒成功判定をするように修正（skill.c）
	Thanks to ARIA さん

・状態異常「マスカレード ： エナーベーション」の攻撃力減少効果が武器の攻撃力のみ減少していたのを修正（status.c）
	Thanks to Akayumi さん

----------------------------------------
//0884 [2011/10/29] by Blaze

・討伐クエストNPC実装 (npc_quest_hunting.txt)

・confにスクリプト定義を追加 (conf/map_auriga.conf)
　※デフォルトは読み込み無効状態です。

・クエストDB更新（db/quest_db.txt）

・0883のファイル構成ミスを再アップ（npc_warp_dun.txt, npc_warp_fild.txt, npc_warp_town.txt）
	Thanks to muchey さん

----------------------------------------
//0883 [2011/10/23] by Blaze

・デワタNPC実装 (npc_town_dewata.txt)
	-> ジャティ族の王冠クエスト実装
	-> 古の短剣クエスト実装
	-> デワタの伝統酒クエスト実装
		Thanks to Xia

・デワタ関連NPC追加 (npc_misc_guide.txt, npc_misc_kafra.txt)

・デワタ追加マップのwarp更新（npc_warp_dun.txt, npc_warp_fild.txt, npc_warp_town.txt）

・デワタ追加マップのmapflag更新（mapflag.txt）

・デワタ追加マップのmonster出現定義追加（npc_monster_dewfild.txt, npc_monster_dewdun.txt）

・db更新（item_db.txt, item_db2.txt, mob_db.txt, mob_skill_db.txt）
　※Mobデータは暫定です

・conf更新 (map_auriga.conf)

----------------------------------------
//0882 [2011/10/15] by Blaze

・ブラジリスNPC実装 (npc_town_brasilis.txt)
	-> ガラナクエスト実装
	-> 幸運の睡蓮クエスト実装
	-> トイレのオバケクエスト実装
	-> イアラクエスト実装
	-> 変なヒドラクエスト実装
	-> ブラジリスの子犬クエスト実装
		Thanks to Xia

・ブラジリス関連NPC追加 (npc_misc_guide.txt, npc_misc_inn.txt, npc_misc_kafra.txt, npc_quest_ice.txt)

・ブラジリス追加マップのwarp更新（npc_warp_dun.txt, npc_warp_fild.txt, npc_warp_town.txt）

・ブラジリス追加マップのmapflag更新（mapflag.txt）

・ブラジリス追加マップのmonster出現定義追加（npc_monster_brasilis.txt, npc_monster_brafild.txt, npc_monster_bradun.txt）

・db更新（item_db.txt, mob_db.txt, mob_skill_db.txt, quest_db.txt）

・conf更新 (map_auriga.conf)

----------------------------------------
//0881 [2011/09/25] by popori

・ARIAさんのitem_db.txtの修正をマージ (db/item_db.txt)
  ARIAさんに感謝

・0878のマージ漏れを補完 (src/map/clif.c src/map/vending.c)

----------------------------------------
//0880 [2011/09/25] by popori

・battle_auriga.confに「allow_same_activeitem」を追加 (conf/battle_auriga.conf src/map/battle.* src/map/pc.c)
  同じカードのアクティブアイテムを許可するか切り替える
  デフォルトはno

・アクティブアイテム発動中に再度同アイテムの効果が発動しても発動時間が上書きされないのを修正 (src/map/pc.c)
  kroeさんに感謝

・クエストリストの追加、討伐数の更新が正常に適用されない問題を修正 (src/map/clif.c)
  716さんに感謝

----------------------------------------
//0879 [2011/09/25] by popori

・購買露店システムの実装 (conf/battle_auriga.conf db/packet_db.txt src/map/battle.* src/map/buyingstore.* src/map/chat.c
						  src/map/clif.* src/map/map.h src/map/pc.c src/map/trade.c src/map/unit.c src/map/vending.c
						  src/map/map.dsp src/map/map_sql.dsp)

・スキル「購買露店開設」の実装 (db/skill_db.txt db/skill_require_db.txt db/skill_tree.txt src/common/mmo.h src/map/skill.*)

・スクリプト命令「openbuyingstore」の追加 (doc/script_ref.txt db/item_db.txt src/map/script.c)

・item_db2.txtにフラグ「buyingable」を追加 (doc/db_ref.txt src/map/itemdb.* db/item_db2.txt)

----------------------------------------
//0878 [2011/09/25] by popori

・露店処理をパケット0x801を基に変更 (src/map/clif.c src/map/map.h src/map/vending.*)

・ついでに露店処理をリファクタリング (src/map/clif.c src/map/vending.*)

・露店開設中かどうかの判断をvender_idで確認するのではなく、state.vendingで確認するように処理を変更 (src/map/chat.c src/map/clif.c src/map/pc.c src/map/trade.c src/map/vending.c src/map/unit.c)

・パケット0x801の情報を変更 (doc/client_packet.txt)

・PC型MOBのoptが変更された際、恐らくshiftクリックでないと攻撃が出来なくなりそうな個所があったので修正 (src/map/clif.c)

----------------------------------------
//0877 [2011/08/30] by popori

・vc_make.batにVC++ 2010 64bitコンパイルを追加 (vc_make.bat)
　※Windows SDK最新版を基にパスを追記しています。適宜パスを修正して利用して下さい。

・char.cの0x65のリクエストが飛んできた時の判定文が間違っていたので修正 (src/char/char.c)

・0874の無駄を削除 (src/map/pc.c)

・モンク・チャンピオンの両手杖基本ASPDを修正 (db/job_db1.txt)

・3次職の基本ASPDを修正 (db/job_db1.txt)

・3次職のHP・SPを修正 (db/job_hp_db.txt db/job_sp_db.txt db/job_db1.txt)

・battle_auriga.confに「homun_max_aspd」「merc_max_aspd」を追加 (conf/battle_auriga.conf src/map/battle.* src/map/status.c)
　デフォルト値は共に200

----------------------------------------
//0876 [2011/06/24] by Blaze

・メカニックスキル「火と大地の研究」の効果を実装（battle.c）
	Thanks ARIA さん

・メカニックスキル「パワースイング」の以下の効果を実装（skill.c, db/skill_cast_db.txt）
	-> スキル「アックスブーメラン」の追撃発動を実装
	-> 状態異常スタン付与効果を実装
	Thanks ARIA さん

・ジェネティックスキル「剣修練」のHit上昇効果を実装（status.c）
	Thanks ARIA さん

・ロイヤルガードスキル「シールドプレス」のダメージ計算式を修正（battle.c）
	Thanks めろでぃ さん

・ロイヤルガードスキル「アースドライブ」を以下のように修正（battle.c, skill.c）
	-> ダメージ計算式を修正
	-> スキル使用時、一定確率で装備中の盾が壊れるように修正
	Thanks めろでぃ さん

・ソーサラースキル「スペルフィスト」のダメージ計算位置を変更（battle.c）
	Thanks めろでぃ さん

・シャドウチェイサースキル「インビジビリティ」の以下のように修正（skill.c, status.c）
	-> サイトやルアフなどの見破るスキルで解除されるように修正
	-> クリティカル上昇効果がなかったのを修正
	-> Aspd減少効果がなかったのを修正
	Thanks Akayumi さん

・状態異常「ウォーグバイト」中、ハイディング状態とクローキング状態を無効にするよう修正（status.c）
	Thanks Akayumi さん

・メカニックスキル「パワースイング」「アックスブーメラン」「アックストルネード」を
  片手斧と両手斧装備時にのみ使用できるように修正（db/skill_require_db.txt）

・メカニックスキル「アックスブーメラン」にノックバック効果を追加（db/skill_db.txt）

・メカニックスキル「アックストルネード」に以下の効果を追加（battle.c）
	-> 攻撃範囲の外周だと威力が下がるようにダメージ計算式を修正
	-> 風属性の武器を装備時、威力が上昇するようにダメージ計算式を修正

・ウォーロックスキル「ホワイトインプリズン」を使用者自身に使用できるように修正（skill.c, db/skill_db.txt）

・修羅スキル「大纏崩捶」「號砲」「羅刹破凰撃」の必中ダメージ計算位置を変更（battle.c）

・0874のpc_addspiritball()にて、変数の初期化後に定数を入れ直す必要はないため、巻き戻し（pc.c）

・0874のスペルフィスト解除前に状態異常情報のメンバ値を書き換えている箇所を削除（unit.c）


----------------------------------------
//0875 [2011/06/12] by Cocoa

・アイテムボーナス「bAddFixCastRate」「bAddCastRate」が名前と効果が矛盾してるので修正
	item_bonus.txt, skill.c

・それに伴いitem_db.txtの修正

----------------------------------------
//0874 [2011/06/08] by Cocoa

・点穴 -快-が睡眠以外の行動不能状態で使用できない不具合修正（skill.c, unit.c）

・スペルフィスト状態が通常攻撃で必中になっていない不具合修正（battle.c）

・スペルフィスト状態が他のスキルを使用しても解除されない不具合修正（unit.c）

・pc_addspiritball関数でモンク系職業以外もチェックするように修正（pc.c）

・天下大将軍カードの効果発動率上昇職業がアコライト系でなく、アーチャー系になってる不具合修正（item_db.txt）

・虹色のカードキーのDropable,Storageable,Cartableフラグを削除（item_db2.txt）

・WarlockのJobLv12のInt補正値が抜けている不具合修正（job_db2-2.txt）

・イグニッションブレイクが詠唱中断可能になっている不具合修正（skill_db.txt）

・ドラゴンブレスが詠唱中断可能になっている不具合修正（skill_db.txt）

・フルアドレナリンラッシュが一部の武器で使用できない不具合修正（skill_require_db.txt）

・デスペラードの攻撃範囲が広くなっている不具合修正（skill_unit_db.txt）

・エウカリスティカの最大取得レベルが5になっている不具合修正（skill_tree.txt）
	reported by shirasumiさん

----------------------------------------
//0873 [2011/06/02] by Cocoa

・ファントムスラストの使用者と対象が同セルの場合は
	対象を術者の北１セルに移動させるように修正（skill.c）

・バキュームエクストリームの吸い寄せ判定を修正（skill.c）
	BOSS属性は吸い寄せられないで移動先まで滑る
	設置セルとX座標かY座標が同じ場合は吸い寄せられない

・ウォーグダッシュの挙動を修正（skill.c）
	進行方向に敵がいない場合のみウォーグダッシュ発動

----------------------------------------
//0872 [2011/05/24] by Rayce

・気球およびコインタイマーセット時、バッファアンダーフローにより
  サーバクラッシュする問題を修正（pc.c）
		reported by Akayumiさん、pneumaさん

  ※発生条件としては、職業がモンク/チャンピオン/修羅で気功の習得レベルが
    0のとき、オートスペル経由で気球を作るとき等。

----------------------------------------
//0871 [2011/05/23] by Rayce

・床アイテムなどの一時objectのID管理方法を変更（map.c）
  常にIDの小さい方から使い回すのではなく、リングバッファでローテーションする
		based on eA, thx!!

	-> 「mob_ai_sub_hard target type error」が発生する可能性の対処。
	   恐らくMOBがルートアイテムと認識していたIDがすぐにSKILLとして
	   使い回していたのが原因。
			reported by Cocoaさん

	-> スキルユニット関連でサーバクラッシュする可能性の対処。
			reported by crisp.さん

・床アイテムなどの一時objectのIDが再利用されるまでの期間を
  延命するため、MAX_FLOORITEM を 1999999 まで引き上げ（mmo.h）
・IDの有効範囲を広げるため START_NPC_NUM を 5000001 に引き下げ（mmo.h）

----------------------------------------
//0870 [2011/05/22] by Rayce

・サーバースナップショット（version.h）

・*db_txt.c, *db_txt.h をそれぞれ login/txt, char/txt フォルダに分離
・*db_sql.c, *db_sql.h をそれぞれ login/sql, char/sql フォルダに分離

・移動や分離に伴って不要となった *.c, *.h ファイルを削除

・sql-filesフォルダの内、通常使用しないSQLスクリプトはutilsフォルダに
  まとめて置く
	-> convert_engine_innodb.sql
	-> convert_engine_myisam.sql
	-> db_maintenance.sql
	-> drop_table.sql

・sql-filesフォルダの内、パッチに付随するSQLスクリプトは使用される
  ことはないので削除
