----------------------------------------
//007 [2006/11/23] by Rayce

・battle_calc_weapon_attack() の修繕
	-> この関数内で全般的に参照する必要あるフラグ変数をまとめた calc_flag 構造体を用意
	　 変数名を変更しただけで基本的な構造は変えてません、rh, lhは準備だけ
	-> ソウルブレイカーのランダム追加ダメージの計算方法を修正

----------------------------------------
//006 [2006/11/23] by Rayce

・005でatcommand_athena.confの変更を忘れてたので同根
・スタック破壊を修正（int_homun.c）
	merged from Athena-2262, thanks to T.Nさん

・スクリプト命令/関数のバグ修正（script.c）
	-> 以下のスクリプト関数のおいて、スタックに返り値がプッシュされずサーバクラッシュを引き起こすため修正
	　 またこのようなクラッシュを応急処置的に防止するために run_func() を少し修正
	　 　getarraysize, getequipid, getnpctimer, sc_ison, getguildcastle, getrepairableitemcount,
	　 　countitem, countcartitem, checkoption
	-> menu/selectでキャラクターがアタッチされてないときはキャンセル扱いにして終了させる
	-> sc_ison関数で状態異常のtypeが不正な値かどうかをチェックするよう強化

----------------------------------------
//005 [2006/11/22] by Rayce

・battle_skill_attack() で「何もしない」判定されたときは矢を消費しないようにしてみる
・battle_calc_weapon_attack() で最初にターゲットのクラスを得るように変更
・battle_calc_weapon_attack() で魅惑のウィンクや強制移動状態であるかどうかの判定を行わないように変更
	この関数はダメージ計算を行うだけに留め、状態によって判定するかどうかは呼び出し元で行うべきなので
	battle_weapon_attack() と battle_skill_attack() でそれぞれ判定をするようにしています

・@help系統の仕様変更（atcommand.*）
	conf/help1.txt（同様に2,3,4）に追記し忘れることが多いので、@help1,2,3,4は廃止
	代替方式として@helpを「@help [開始行] [終了行]」のように引数を可変にします
	行指定しない場合は全てのヘルプを表示します
	指定した場合は開始行〜終了行のヘルプだけを表示します
	ただし0は指定なしを意味します
	また行頭に // を付けるとコメントアウトと見なされ、その行は表示されません
	　　例）@help 0 20  -> 最初の行〜20行目まで表示
	　　　　@help 10 0  -> 10行目〜最後の行まで表示
・conf/help.txtの整理

----------------------------------------
//004 [2006/11/22] by Rayce

・battle_attr_fix() を少し改善
・battle_calc_damage() の処理改善
　特にダメージが発生する場合で、アジトの情報が不要な場合でも情報を検索していた無駄が省かれます

・MAP名に "this" 指定可能なスクリプト命令/関数を考慮して、MAP番号を取得する処理をまとめた関数
　script_mapname2mapid() を用意（script.c）
・以下のスクリプト命令/関数においてMAP名の "this" 指定に対応
	mapannounce, areaannounce, getareadropitem, setmapflagnosave, setmapflag, removemapflag,
	pvpon, pvpoff, gvgon, gvgoff, maprespawnguildid
・MAP非配置型のNPCからmap_foreachinarea() を呼び出す命令/関数を実行されるとアクセス違反が生じる可能性があるので
　map_foreachinarea() でindexの値のチェックを入れるように修正（map.c）

----------------------------------------
//003 [2006/11/22] by Rayce

・battle_calc_weapon_attack() の構造変更によって、001の時点で矢のATKが計算されない
　可能性が生じていたので修正（battle.c）
・battle_calc_weapon_attack() を全体的に整形
・battle_delarrow() の引数を増やして battle_skill_attack() からでも使えるように共通化（battle.*）

・item_arrowtype.txtとitem_group_db.txtで存在しないアイテムIDだった場合は読み飛ばすように修正（itemdb.c）
・item_db.txtでアイテムIDが20000までしか使えない制限を取り払う（atcommand.c, itemdb.*）
	-> 読み込まれたデータの中で最大のID値をmax_itemidに保存しておくように変更
	-> itemdb_getmaxid() を追加
	-> 上記変更に伴って @idsearch を少し修正

・チェイサーのスキル名と混同するので、スキルの使用条件を示す ST_CLOAKING 等の名称を ST_*** → SST_*** に変更（skill.*）
　ST_CHASEWALKというstateは存在せず誤っているので、新しくSST_CHASEWALKINGを定義
　skill_require_db.txtのstateの項目にchasewalkingを追加

----------------------------------------
//002 [2006/11/21] by Rayce

・囲まれ判定用の定数 ATK_LUCKY, ATK_FLEE, ATK_DEF をmap.hからbattle.hに移動
・使われていない定数 MS_IDLE, MS_WALK, MS_ATTACK, MS_DEAD, MS_DELAY をmap.hから削除
　（mob.hの MSS_*** に変更されている）
・使われていない定数 SAB_NORMAL, SAB_SKIDTRAP をskill.hから削除
・ほとんど意味がないので AS_ATTACK, AS_REVENGE をskill.hとbattle.cから削除
・ほとんど意味がないので MAX_STATUS_TYPE をmmo.hとatcommand.cから削除

・pc.cとskill.cの distance() を削除し unit_distance() に置き換え
・一部のdouble型へのキャストをatn_bignumber型に置き換え
・homun_data構造体の変数名を atackable → attackable に変更（clif.c, homun.c, map.h）
・unit.cを少しだけ整理

----------------------------------------
//001 [2006/11/21] by Rayce

・Auriga始動
・サーバースナップショット
・ATHENA_MOD_VERSIONを1に変更（version.h）
・不要なファイルを削除
　　doc/sc_start.txt, bin/tool/convert.c

　※上記以外には変更を加えてないので、実質Athena-dev-2.1.1-mod2261までを集約したSSに相当します
　　このversionを以ってAurigaのスタートとします
　　細かい部分は「Athena」のままですが、今後変更していく予定です
